<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Hizmetlerimiz | Elçi Veteriner Kliniği</title>
  <meta name="description" content="Acil & yoğun bakım, koruyucu hekimlik, iç hastalıkları, cerrahi, diş sağlığı, görüntüleme & laboratuvar, kardiyoloji, doğum & jinekoloji, fizik tedavi, konaklama ve daha fazlası."/>
  <link rel="canonical" href="https://elciveteriner.com/hizmetler.html"/>

  <!-- Global CSS -->
  <link rel="stylesheet" href="/assets/css/tokens.css?v=20251106"/>
  <link rel="stylesheet" href="/assets/css/styles.css?v=20251106"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>

  <style>
    .container{max-width:1180px;margin:0 auto;padding:0 16px}
    h1,h2{letter-spacing:.1px}
    .services-grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:18px}
    @media (max-width: 900px){ .services-grid{grid-template-columns:repeat(2,minmax(0,1fr))} }
    @media (max-width: 560px){ .services-grid{grid-template-columns:1fr} }
    .s-card{min-width:280px;background:#fff;border:1px solid var(--line);border-radius:18px;box-shadow:0 6px 18px rgba(10,25,35,.08)}
    .s-card:hover{transform:translateY(-4px);box-shadow:0 10px 28px rgba(10,25,35,.12);border-color:color-mix(in srgb, var(--accent) 18%, var(--line))}
    .s-icon{display:inline-grid;place-items:center;width:46px;height:46px;border-radius:14px;background:radial-gradient(80% 80% at 30% 20%, #fff 0%, #eaf6f8 55%, #d9f0f2 100%);border:1px solid #d8ecef;margin-bottom:8px}
    .s-icon svg{color:#0a4f60;filter:drop-shadow(0 0 1px rgba(0,0,0,.18))}
    .s-title{margin:.2rem 0 .3rem}
    .s-text{color:var(--muted)}
    section h2{position:relative;display:inline-block}
    section h2::after{content:"";position:absolute;left:0;bottom:-8px;width:72px;height:3px;border-radius:999px;background:linear-gradient(90deg,var(--brand),var(--accent))}
  </style>
</head>
<body class="theme-elciKonya" data-page="services">
  <!-- Basit header (dilersen index’teki header’ı aynen kopyalayabilirsin) -->
  <header class="page-header">
    <div class="container" style="padding:22px 16px">
      <h1>Hizmetlerimiz</h1>
      <p style="color:var(--muted);max-width:70ch">Konya’da acilden cerrahiye, görüntülemeden diş sağlığına kadar geniş kapsamlı veteriner hizmetleri sunuyoruz.</p>
    </div>
  </header>

  <!-- Tüm hizmetler: data-mode=all (limit yok) -->
  <section id="services" class="services"
           data-json="/assets/data/services.json"
           data-mode="all">
    <div class="container">
      <h2>Tüm Hizmetler</h2>
      <div class="services-grid" id="servicesFeatured" aria-label="Tüm Hizmetler"></div>

      <!-- Fallback: JSON gelmezse boş kalmasın -->
      <template id="services-fallback">
        <div class="services-grid">
          <article class="s-card" id="acil">
            <span class="s-icon"><svg viewBox="0 0 24 24"><use href="#i-shield-cross"/></svg></span>
            <h3 class="s-title">Acil & Yoğun Bakım</h3>
            <p class="s-text">Şok yönetimi, sıvı tedavisi, oksijen kafesi ve 24 saat izlem.</p>
            <a class="s-link" href="#acil">Detaylı Bilgi</a>
          </article>
          <article class="s-card" id="koruyucu">
            <span class="s-icon"><svg viewBox="0 0 24 24"><use href="#i-stethoscope"/></svg></span>
            <h3 class="s-title">Muayene & Koruyucu</h3>
            <p class="s-text">Aşı planı, parazit kontrolü, mikroçip ve check-up.</p>
            <a class="s-link" href="#koruyucu">Detaylı Bilgi</a>
          </article>
          <article class="s-card" id="ic-hastaliklari">
            <span class="s-icon"><svg viewBox="0 0 24 24"><use href="#i-clipboard"/></svg></span>
            <h3 class="s-title">İç Hastalıkları</h3>
            <p class="s-text">Hemogram, biyokimya, hormon, idrar analizi ve tanısal yaklaşım.</p>
            <a class="s-link" href="#ic-hastaliklari">Detaylı Bilgi</a>
          </article>
          <!-- … 3–4 adet daha örnek kart ekledim; JSON gelirse bunlar yerine JSON’dakiler görünür … -->
        </div>
      </template>
    </div>
  </section>

  <!-- Icon sprite (kısaltılmış: ihtiyacın olanlar) -->
  <svg xmlns="http://www.w3.org/2000/svg" style="position:absolute;width:0;height:0;overflow:hidden">
    <defs><style>.i{fill:none;stroke:currentColor;stroke-width:1.8;stroke-linecap:round;stroke-linejoin:round}</style></defs>
    <symbol id="i-shield-cross" viewBox="0 0 24 24"><path class="i" d="M12 3l7 3v5c0 5.2-3.6 8.7-7 10-3.4-1.3-7-4.8-7-10V6l7-3z"/><path class="i" d="M9 11h6M12 8v6"/></symbol>
    <symbol id="i-stethoscope" viewBox="0 0 24 24"><path class="i" d="M6 3v5a4 4 0 1 0 8 0V3M2.5 3H6M10 3h3.5M10 13a6 6 0 0 0 12 0v-1.2"/><circle class="i" cx="22" cy="11.8" r="2"/></symbol>
    <symbol id="i-clipboard" viewBox="0 0 24 24"><rect class="i" x="5" y="4" width="14" height="18" rx="2"/><rect class="i" x="9" y="2" width="6" height="4" rx="1.5"/><path class="i" d="M8 11h8M8 15h8M8 19h5"/></symbol>
    <symbol id="i-scissors" viewBox="0 0 24 24"><circle class="i" cx="6" cy="6" r="2.5"/><circle class="i" cx="6" cy="18" r="2.5"/><path class="i" d="M8 7l12 10M8 17l5-4"/></symbol>
    <symbol id="i-tooth-clean" viewBox="0 0 24 24"><path class="i" d="M8 3c-2.5 0-4 2-4 4.5 0 4.5 2.5 7.5 3.5 11 .6 2 3 2 3.5 0 .7-2.4 1.2-3.5 2-3.5s1.3 1.1 2 3.5c.5 2 2.9 2 3.5 0 1-3.5 3.5-6.5 3.5-11C22 5 20.5 3 18 3 15.2 3 14 5 12 5S8.8 3 8 3z"/><path class="i" d="M9 9h6"/></symbol>
    <symbol id="i-xray" viewBox="0 0 24 24"><rect class="i" x="3" y="3" width="18" height="18" rx="2"/><path class="i" d="M7 7h10M7 12h10M7 17h10M12 7v10"/></symbol>
    <symbol id="i-ecg" viewBox="0 0 24 24"><path class="i" d="M2 12h4l2-4 4 8 3-6 2 2h5"/></symbol>
    <symbol id="i-pt" viewBox="0 0 24 24"><path class="i" d="M12 6a2.5 2.5 0 1 1 0 5 2.5 2.5 0 0 1 0-5z"/><path class="i" d="M5 21l3-6 3-1 2 2 3 0 3 5M8 13l-3-1"/></symbol>
    <symbol id="i-boarding" viewBox="0 0 24 24"><path class="i" d="M4 20V8a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12"/><path class="i" d="M8 20v-6a4 4 0 0 1 8 0v6M3 20h18"/></symbol>
  </svg>

  <!-- Services Loader (index’tekiyle aynı) -->
  <script>
  (function(){
    const host = document.getElementById('services');
    if(!host) return;
    const url   = host.getAttribute('data-json') || '/assets/data/services.json';
    const mode  = (host.getAttribute('data-mode')||'all').toLowerCase();
    const tFallback   = document.getElementById('services-fallback');
    const featuredWrap= document.getElementById('servicesFeatured');

    function iconHTML(icon){
      if(!icon) return `<svg viewBox="0 0 24 24"><use href="#i-clipboard"/></svg>`;
      if(icon.startsWith('#i-')) return `<svg viewBox="0 0 24 24"><use href="${icon}"/></svg>`;
      if(icon.startsWith('i-'))  return `<svg viewBox="0 0 24 24"><use href="#${icon}"/></svg>`;
      if(icon.includes('fa-'))   return `<i class="${icon}" aria-hidden="true"></i>`;
      return `<svg viewBox="0 0 24 24"><use href="#i-clipboard"/></svg>`;
    }
    function card(item){
      const href = item.href || ('#'+(item.id||'')); 
      return `
        <article class="s-card" ${item.id ? `id="${item.id}"` : ''}>
          <span class="s-icon" aria-hidden="true">${iconHTML(item.icon||'')}</span>
          <h3 class="s-title">${item.title||'Hizmet'}</h3>
          <p class="s-text">${item.summary||item.text||''}</p>
          <a class="s-link" href="${href}">Detaylı Bilgi</a>
        </article>
      `;
    }
    function render(json){
      if(!json || !Array.isArray(json.items) || !json.items.length){ renderFallback(); return; }
      const list = json.items.slice();
      if(featuredWrap) featuredWrap.innerHTML = list.map(card).join('');
    }
    function renderFallback(){
      if(!tFallback || !featuredWrap) return;
      const frag = tFallback.content.cloneNode(true);
      featuredWrap.replaceWith(frag.querySelector('.services-grid'));
    }

    fetch(url, {cache:'no-store'})
      .then(r => r.ok ? r.json() : Promise.reject(r.status))
      .then(render)
      .catch(renderFallback);
  })();
  </script>
</body>
</html>
<script>
/* === ELÇİ — Güvenli Hizmet Yükleyici v2 ===========================
   İki mod:
   - Index: #services[data-limit="6"][data-mode="split"] → 6 kart + şerit
   - Hizmetler: #svcSections → tüm kartlar ızgarada
   Kendi fallback'ını basar, üstte durum rozeti gösterir.
=================================================================== */
(function(){
  // Ortak yardımcılar
  const qS = (sel,root=document)=>root.querySelector(sel);
  const qSA= (sel,root=document)=>Array.from(root.querySelectorAll(sel));
  const iconHTML = (icon)=>{
    if(!icon) return `<svg viewBox="0 0 24 24"><use href="#i-article"/></svg>`;
    if(icon.startsWith('#i-')) return `<svg viewBox="0 0 24 24"><use href="${icon}"/></svg>`;
    if(icon.startsWith('i-'))  return `<svg viewBox="0 0 24 24"><use href="#${icon}"/></svg>`;
    if(icon.includes('fa-'))   return `<i class="${icon}" aria-hidden="true"></i>`;
    return `<svg viewBox="0 0 24 24"><use href="#i-article"/></svg>`;
  };
  const card = (it)=>`
    <article class="s-card" ${it.id?`id="${it.id}"`:''}>
      <span class="s-icon" aria-hidden="true">${iconHTML(it.icon||'')}</span>
      <h3 class="s-title">${it.title||'Hizmet'}</h3>
      <p class="s-text">${it.summary||it.text||''}</p>
      <a class="s-link" href="${it.href || (it.id?('#'+it.id):'#')}">Detaylı Bilgi</a>
    </article>`;

  // === INDEX MODU ==================================================
  (function(){
    const host = qS('#services');
    if(!host) return; // bu sayfa index değilse çık

    const url   = host.getAttribute('data-json') || '/assets/data/services.json';
    const limit = parseInt(host.getAttribute('data-limit')||'0',10) || 0;
    const mode  = (host.getAttribute('data-mode')||'split').toLowerCase();

    const featuredWrap = qS('#servicesFeatured');
    const moreWrap     = qS('#servicesMoreWrap');
    const moreTrack    = qS('#servicesTrack');

    const statusBadge = document.createElement('div');
    statusBadge.style.cssText = "display:none; margin:10px 0 0; padding:6px 10px; font-size:12px; border:1px solid var(--line); border-radius:10px; background:#fff;";
    statusBadge.setAttribute('aria-live','polite');
    host.querySelector('.container')?.insertBefore(statusBadge, host.querySelector('.container').firstChild);

    function wireScroll(){
      if(!moreWrap || !moreTrack) return;
      const prev=qS('#svcPrev'), next=qS('#svcNext');
      const by = ()=> Math.max(moreTrack.clientWidth*0.95, 300);
      prev && prev.addEventListener('click', ()=> moreTrack.scrollBy({left:-by(), behavior:'smooth'}));
      next && next.addEventListener('click', ()=> moreTrack.scrollBy({left: by(), behavior:'smooth'}));
      moreTrack.setAttribute('tabindex','0');
      moreTrack.addEventListener('keydown', (e)=>{
        const d = by();
        if(e.key==='ArrowLeft'){ e.preventDefault(); moreTrack.scrollBy({left:-d, behavior:'smooth'}); }
        if(e.key==='ArrowRight'){ e.preventDefault(); moreTrack.scrollBy({left: d, behavior:'smooth'}); }
      });
    }

    function renderFallback(reason){
      const t = qS('#services-fallback');
      if(!t){ showStatus(`⚠️ JSON yüklenemedi (${reason}). Fallback kartlar yok.`); return; }
      const frag = t.content.cloneNode(true);
      const tempGrid = frag.querySelector('.services-grid');
      const tempMore = frag.querySelector('.services-more');
      if(featuredWrap && tempGrid) { featuredWrap.replaceWith(tempGrid); }
      if(moreWrap && tempMore)     { moreWrap.replaceWith(tempMore); }
      showStatus(`ℹ️ Fallback aktif: ${reason}.`);
    }

    function showStatus(msg){
      statusBadge.textContent = msg;
      statusBadge.style.display = 'inline-block';
      console.warn('[services:index]', msg);
    }

    fetch(url + '?v=' + Date.now(), {cache:'no-store'})
      .then(r => r.ok ? r.json() : Promise.reject('HTTP '+r.status))
      .then(json=>{
        const list = Array.isArray(json?.items) ? json.items.slice() : [];
        if(!list.length){ renderFallback('liste boş'); return; }
        const h2 = host.querySelector('h2');
        if(json.title && h2) h2.textContent = json.title;

        if(mode==='all' || !limit){
          featuredWrap && (featuredWrap.innerHTML = list.map(card).join(''));
          moreWrap && (moreWrap.style.display='none');
          showStatus(`✅ ${list.length} hizmet yüklendi (ALL).`);
          return;
        }

        const first = list.slice(0, limit);
        const rest  = list.slice(limit);
        featuredWrap && (featuredWrap.innerHTML = first.map(card).join(''));
        if(rest.length && moreWrap && moreTrack){
          moreTrack.innerHTML = rest.map(card).join('');
          moreWrap.style.display='block';
          wireScroll();
          showStatus(`✅ ${first.length}+${rest.length} hizmet yüklendi (SPLIT).`);
        }else{
          moreWrap && (moreWrap.style.display='none');
          showStatus(`✅ ${first.length} hizmet yüklendi (SPLIT, kalan yok).`);
        }
      })
      .catch(err => renderFallback(String(err)));
  })();

  // === HİZMETLER SAYFASI MODU ======================================
  (function(){
    const sectionsWrap = qS('#svcSections');
    if(!sectionsWrap) return; // bu sayfa hizmetler değilse çık

    const toc       = qS('#svcToc');
    const chipBar   = qS('#chipBar');
    const searchBox = qS('#svcSearch');
    const fallback  = qS('#svcFallback');

    const paths = ['/assets/data/services.json','/assets/data/servis.json','/assets/data/service.json'];
    let items = [], categories = [], activeCat = 'Tümü', q = '';

    const status = document.createElement('div');
    status.style.cssText="margin:8px 0 0; padding:6px 10px; font-size:12px; border:1px solid var(--line); border-radius:10px; background:#fff;";
    sectionsWrap.before(status);

    const pick=(o,...keys)=>{ for(const k of keys){ if(o && o[k]!=null) return o[k]; } };
    const norm=(maybe)=>Array.isArray(maybe)?maybe:(Array.isArray(maybe?.items)?maybe.items:[]);

    const cardHTML = (it)=>{
      const id   = pick(it,'id','slug','anchor');
      const href = it.href || (id?('#'+id):'#');
      const ttl  = pick(it,'title','baslik','name') || 'Hizmet';
      const sum  = pick(it,'summary','ozet','text','aciklama') || '';
      const icon = pick(it,'icon','ikon') || '#i-clipboard';
      const iconStr = iconHTML(icon);
      return `
        <article class="s-card" ${id?`id="${id}"`:''}>
          <span class="s-icon" aria-hidden="true">${iconStr}</span>
          <div class="s-body">
            <h3 class="s-title">${ttl}</h3>
            <p class="s-text">${sum}</p>
            <a class="s-link" href="${href}">Detaylı Bilgi</a>
          </div>
        </article>`;
    };

    function buildCats(){ categories = ['Tümü', ...new Set(items.map(i => (pick(i,'category','kategori') || 'Diğer').trim()))]; }
    const anchor = (c)=>'cat-'+c.toLowerCase().replace(/\s+/g,'-').replace(/[^\w\-]+/g,'');

    function renderTOC(){
      if(!toc) return;
      toc.innerHTML = categories.map((c,i)=>`
        <li><a href="#${anchor(c)}" class="${i===0?'active':''}" data-cat="${c}">
          <i class="fa-regular fa-folder-open"></i> <span>${c}</span></a></li>`).join('');
      qSA('a',toc).forEach(a=>a.addEventListener('click',()=>{
        qSA('a',toc).forEach(x=>x.classList.remove('active'));
        a.classList.add('active'); activeCat = a.dataset.cat;
      }));
    }
    function renderChips(){
      if(!chipBar) return;
      chipBar.innerHTML = categories.map(c=>`<button class="chip ${c===activeCat?'active':''}" data-cat="${c}">${c}</button>`).join('');
      qSA('.chip',chipBar).forEach(btn=>btn.addEventListener('click',()=>{
        activeCat = btn.dataset.cat; renderAll();
        const t = document.getElementById(anchor(activeCat)); if(t) t.scrollIntoView({behavior:'smooth',block:'start'});
      }));
    }
    function filtered(list){
      return list.filter(it=>{
        const cat = (pick(it,'category','kategori') || 'Diğer');
        const okC = (activeCat==='Tümü') || (cat===activeCat);
        const ttl = (pick(it,'title','baslik','name')||'').toLowerCase();
        const sum = (pick(it,'summary','ozet','text','aciklama')||'').toLowerCase();
        const okQ = !q || ttl.includes(q) || sum.includes(q);
        return okC && okQ;
      });
    }
    function renderSections(){
      const groups={}; (activeCat==='Tümü' ? categories.slice(1) : [activeCat]).forEach(c=>groups[c]=[]);
      items.forEach(it=>{ const c=(pick(it,'category','kategori')||'Diğer'); if(groups[c]!==undefined) groups[c].push(it); });

      let html='', cats=(activeCat==='Tümü'?Object.keys(groups):[activeCat]);
      cats.forEach(c=>{
        const list=filtered(groups[c]); if(!list.length) return;
        html+=`<section class="svc-section" id="${anchor(c)}" aria-label="${c}">
          <h2>${c}</h2><div class="services-grid">${list.map(cardHTML).join('')}</div></section>`;
      });
      if(!html){ html=`<section class="svc-section"><h2>Sonuç bulunamadı</h2><p class="muted">Anahtar sözcükleri kısaltarak tekrar deneyin.</p></section>`; }
      sectionsWrap.innerHTML = html;
    }
    function renderAll(){ renderChips(); renderSections(); }

    searchBox && searchBox.addEventListener('input',e=>{ q=String(e.target.value||'').trim().toLowerCase(); renderSections(); });

    (async function load(){
      let data=null, ok=false, tried=[];
      for(const p of paths){
        try{
          const r=await fetch(p+'?v='+Date.now(),{cache:'no-store'});
          tried.push(p+' → '+r.status);
          if(!r.ok) continue;
          data=await r.json(); ok=true; break;
        }catch(e){ tried.push(p+' → ERR'); }
      }
      if(!ok){
        status.textContent='⚠️ Hizmet JSON’u bulunamadı. Fallback gösteriliyor. (Denemeler: '+tried.join(' | ')+')';
        const frag = fallback?.content?.cloneNode(true);
        if(frag) sectionsWrap.replaceWith(frag);
        return;
      }
      items = norm(data);
      if(!items.length){
        status.textContent='⚠️ Hizmet listesi boş/şema farklı. Fallback gösteriliyor.';
        const frag = fallback?.content?.cloneNode(true); if(frag) sectionsWrap.replaceWith(frag);
        return;
      }
      status.textContent='✅ '+items.length+' hizmet yüklendi.';
      buildCats(); renderTOC(); renderAll();
    })();
  })();
})();
</script>
