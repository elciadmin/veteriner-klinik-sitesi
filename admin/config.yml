backend:
  name: git-gateway
  branch: main

media_folder: "assets/img/uploads"
public_folder: "/assets/img/uploads"

publish_mode: editorial_workflow   # Taslak → İnceleme → Yayınla (ileri tarihli planlama çalışır)
locale: tr

slug:
  encoding: "ascii"
  clean_accents: true

collections:
  # --- BLOG YAZILARI (ileri tarihli planlama destekli) ---
  - name: "blog"
    label: "Blog Yazıları"
    label_singular: "Blog Yazısı"
    folder: "assets/data/blog"
    create: true
    format: "json"
    extension: "json"
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    sortable_fields: ["date", "title"]
    view_filters:
      - label: "Taslaklar"
        field: "draft"
        pattern: true
    fields:
      - { label: "Başlık", name: "title", widget: "string" }
      - { label: "Tarih (Yayın tarihi)", name: "date", widget: "datetime", hint: "İleri tarih seçersen o tarihte publish olur" }
      - { label: "Taslak mı?", name: "draft", widget: "boolean", default: false }
      - { label: "Kısa Özet", name: "excerpt", widget: "text", required: false }
      - { label: "Kapak Görseli", name: "cover", widget: "image", required: false }
      - { label: "Etiketler", name: "tags", widget: "list", required: false }
      - label: "İçerik"
        name: "body"
        widget: "markdown"

  # --- SSS (tek JSON dosyası) ---
  - name: "faq"
    label: "Sık Sorulan Sorular"
    files:
      - file: "assets/data/faq.json"
        label: "SSS Listesi"
        name: "faq"
        format: "json"
        fields:
          - label: "Sorular"
            name: "items"
            widget: "list"
            fields:
              - {label: "Kategori", name: "category", widget: "select", options: ["Fiyat & Ödeme","Randevu & Süreç","Aşı & Koruyucu","Ameliyat & Anestezi","Görüntüleme & Lab","Acil Durum","Bakım & Beslenme"]}
              - {label: "Soru", name: "q", widget: "string"}
              - {label: "Cevap (HTML/Markdown)", name: "a", widget: "markdown"}

  # --- HİZMETLER (kartlar) ---
  - name: "services"
    label: "Hizmet Kartları"
    files:
      - file: "assets/data/services.json"
        label: "Hizmetler"
        name: "services"
        format: "json"
        fields:
          - label: "Kartlar"
            name: "items"
            widget: "list"
            fields:
              - {label: "Başlık", name: "title", widget: "string"}
              - {label: "Açıklama", name: "text", widget: "text"}
              - {label: "İkon (opsiyonel, sprite id)", name: "icon", widget: "string", required: false}
              - {label: "Bağlantı", name: "href", widget: "string", required: false}

  # --- ANA SAYFA AYARLARI (hero, youtube, instagram) ---
  - name: "homepage"
    label: "Ana Sayfa Ayarları"
    files:
      - file: "assets/data/index.json"
        label: "Index Ayarları"
        name: "index"
        format: "json"
        fields:
          - {label: "Hero Başlık", name: "heroTitle", widget: "string"}
          - {label: "Hero Alt Başlık", name: "heroSub", widget: "text", required: false}
          - {label: "YouTube Video ID’leri", name: "youtubeIds", widget: "list", field: {label: "Video ID", name: "id", widget: "string"}}
          - {label: "Instagram Görselleri", name: "instagram", widget: "list", fields: [{label: "Kaynak", name: "src", widget: "string"}, {label: "Alt", name: "alt", widget:"string", required: false}]}

  # --- YORUMLAR (Google reviews json) ---
  - name: "reviews"
    label: "Google Yorumları"
    files:
      - file: "assets/data/reviews.json"
        label: "Yorumlar"
        name: "reviews"
        format: "json"
        fields:
          - label: "Yorumlar"
            name: "items"
            widget: "list"
            fields:
              - {label: "Yorum", name: "text", widget: "text"}
              - {label: "Yazar", name: "author", widget: "string", required: false}
              - {label: "Yıldız", name: "rating", widget: "number", value_type: "int", min: 1, max: 5, default: 5, required: false}
              - {label: "Tarih/Not", name: "date", widget: "string", required: false}
